
<ul ngbNav #nav="ngbNav" [(activeId)]="active" [destroyOnHide]="false" class="nav-tabs">
  <li ngbNavItem="schema">
    <a ngbNavLink>
      Schema
    </a>
    <ng-template ngbNavContent>
      <div style="position: absolute; display:inline-block; width: 60%; border-right: 2px solid #dee2e6; vertical-align: top;">
        <app-time-radio-button [navigationTab]="getNavigationComponent()" ></app-time-radio-button>
        <div [ngClass]="{'invisible': timeEvolutionMode}">
          <div style="text-align:center; margin-top: 50px;">
            <app-pie-chart [type]="'SIZE'" [objectType]="ENTITY_OBJECT" [chartTitle]="'Entity size'" [navigationTab]="getNavigationComponent()"></app-pie-chart>
            <app-pie-chart [objectType]="CRUD_OBJECT" [chartTitle]="'CRUD operation distribution'" [navigationTab]="getNavigationComponent()"></app-pie-chart>
          </div>
          <div style="text-align:center; margin-top: 20px;">
            <app-pie-chart [type]="'NB_OF_QUERIES'" [objectType]="ENTITY_OBJECT" [chartTitle]="'Proportion of queried entities'" [navigationTab]="getNavigationComponent()"></app-pie-chart>
          </div>
        </div>

        <div [ngClass]="{'invisible': !timeEvolutionMode}">
          <div style="text-align:center; margin-top: 50px;">
            <app-line-chart [type]="'SIZE'" [objectType]="ENTITY_OBJECT" [chartTitle]="'Entity size over time'" [navigationTab]="getNavigationComponent()"></app-line-chart>
            <app-line-chart [objectType]="CRUD_OBJECT" [chartTitle]="'CRUD operation distribution over time'" [navigationTab]="getNavigationComponent()"></app-line-chart>
          </div>
          <div style="text-align:center; margin-top: 20px;">
            <app-line-chart [type]="'NB_OF_QUERIES'" [objectType]="ENTITY_OBJECT" [chartTitle]="'Proportion of queried entities over time'" [navigationTab]="getNavigationComponent()"></app-line-chart>
          </div>
        </div>

      </div>
      <div id="chartContainer" style="display:inline-block; width: 40%; margin-left: 60%; padding-left: 20px">
        <app-d3-charts [svgId]="'typhonSchema'" [screenPercentage]=40></app-d3-charts>
      </div>
    </ng-template>
  </li>

  <li ngbNavItem="queries">
    <a ngbNavLink>
      Queries
    </a>
    <ng-template ngbNavContent>
      <app-table-pagination></app-table-pagination>
    </ng-template>
  </li>

  <li *ngFor="let id of tabs" [ngbNavItem]="id">
    <a ngbNavLink>
      Tab {{ id }}
      <span class="close position-relative pl-2 font-weight-light" (click)="close($event, id)">Ã—</span>
    </a>
    <ng-template ngbNavContent>
      <p>Tab {{ id }} content</p>
    </ng-template>
  </li>
  <li class="nav-item">
    <a class="nav-link" href (click)="add($event)">...</a>
  </li>
</ul>

<div [ngbNavOutlet]="nav" class="mt-2"></div>

